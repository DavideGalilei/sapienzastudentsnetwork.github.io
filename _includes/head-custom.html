<!-- Setup Google Analytics -->
{% include head-custom-google-analytics.html %}

<!-- link rel="shortcut icon" type="image/x-icon" href="{{ '/favicon.ico' | relative_url }}" -->

<script>
    async function registerServiceWorker(serviceWorker) {
      if ('serviceWorker' in navigator) {
        try {
          const registration = await navigator.serviceWorker.register(serviceWorker, { scope: '/informatica', });

          if (registration.installing) 
            console.log("Service worker installing");
          else if (registration.waiting)
            console.log("Service worker installed");
          else if (registration.active)
            console.log("Service worker active");

        } catch (error) {
          console.error(`Registration failed with ${error}`);
        }
      }
    };

    registerServiceWorker("{{ '/service-worker.js?v=' | append: site.github.build_revision | relative_url }}")

    // navigator.serviceWorker && navigator.serviceWorker
    //     .register("{{ '/service-worker.js?v=' | append: site.github.build_revision | relative_url }}", {scope: '/informatica'});
</script>
<link rel="manifest" href="{{ '/manifest.json?v=' | append: site.github.build_revision | relative_url }}">
<meta name="theme-color" content="#282828">
